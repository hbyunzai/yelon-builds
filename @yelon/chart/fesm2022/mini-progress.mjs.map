{"version":3,"file":"mini-progress.mjs","sources":["../../../../packages/chart/mini-progress/mini-progress.component.ts","../../../../packages/chart/mini-progress/mini-progress.module.ts","../../../../packages/chart/mini-progress/mini-progress.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Input,\n  OnChanges,\n  ViewEncapsulation,\n  inject,\n  numberAttribute\n} from '@angular/core';\n\nimport { YelonLocaleService } from '@yelon/theme';\n\nimport { NzTooltipDirective } from 'ng-zorro-antd/tooltip';\n\n@Component({\n  selector: 'g2-mini-progress',\n  exportAs: 'g2MiniProgress',\n  template: `\n    <div\n      nz-tooltip\n      [nzTooltipTitle]=\"targetSuffix + target + '%'\"\n      class=\"g2-mini-progress__target\"\n      [style]=\"{ left: target + '%' }\"\n    >\n      <span class=\"g2-mini-progress__target-item\" [style]=\"{ 'background-color': color }\"></span>\n      <span class=\"g2-mini-progress__target-item\" [style]=\"{ 'background-color': color }\"></span>\n    </div>\n    <div class=\"g2-mini-progress__wrap\">\n      <div\n        class=\"g2-mini-progress__value\"\n        [style]=\"{ 'background-color': color, width: percent + '%', height: strokeWidth + 'px' }\"\n      ></div>\n    </div>\n  `,\n  host: { '[class.g2-mini-progress]': 'true' },\n  preserveWhitespaces: false,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  imports: [NzTooltipDirective]\n})\nexport class G2MiniProgressComponent implements OnChanges {\n  readonly targetSuffix = inject(YelonLocaleService).getData('miniProgress').target;\n  private readonly cdr = inject(ChangeDetectorRef);\n\n  @Input() color = '#1890FF';\n  @Input({ transform: numberAttribute }) target?: number | null;\n  @Input({ transform: numberAttribute }) percent?: number | null;\n  @Input({ transform: numberAttribute }) strokeWidth?: number | null;\n\n  private fixNum(value: number | undefined | null): number {\n    return Math.min(Math.max(numberAttribute(value), 0), 100);\n  }\n\n  ngOnChanges(): void {\n    this.target = this.fixNum(this.target);\n    this.percent = this.fixNum(this.percent);\n    this.cdr.detectChanges();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { YelonLocaleModule } from '@yelon/theme';\n\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { G2MiniProgressComponent } from './mini-progress.component';\n\nconst COMPONENTS = [G2MiniProgressComponent];\n\n@NgModule({\n  imports: [CommonModule, YelonLocaleModule, NzToolTipModule, ...COMPONENTS],\n  exports: COMPONENTS\n})\nexport class G2MiniProgressModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;;MAyCa,uBAAuB,CAAA;AACzB,IAAA,YAAY,GAAG,MAAM,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,MAAM;AAChE,IAAA,GAAG,GAAG,MAAM,CAAC,iBAAiB,CAAC;IAEvC,KAAK,GAAG,SAAS;AACa,IAAA,MAAM;AACN,IAAA,OAAO;AACP,IAAA,WAAW;AAE1C,IAAA,MAAM,CAAC,KAAgC,EAAA;AAC7C,QAAA,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;;IAG3D,WAAW,GAAA;QACT,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;AACxC,QAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;;uGAhBf,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;AAAvB,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,uBAAuB,2GAKd,eAAe,CAAA,EAAA,OAAA,EAAA,CAAA,SAAA,EAAA,SAAA,EACf,eAAe,CAAA,EAAA,WAAA,EAAA,CAAA,aAAA,EAAA,aAAA,EACf,eAAe,CA9BzB,EAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,wBAAA,EAAA,MAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA;;;;;;;;;;;;;;;;AAgBT,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAKS,kBAAkB,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,gBAAA,EAAA,uBAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,0BAAA,EAAA,0BAAA,EAAA,2BAAA,EAAA,uBAAA,EAAA,6BAAA,EAAA,yBAAA,EAAA,gBAAA,CAAA,EAAA,OAAA,EAAA,CAAA,wBAAA,CAAA,EAAA,QAAA,EAAA,CAAA,WAAA,CAAA,EAAA,CAAA,EAAA,eAAA,EAAA,EAAA,CAAA,uBAAA,CAAA,MAAA,EAAA,aAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,IAAA,EAAA,CAAA;;2FAEjB,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBA1BnC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,kBAAkB;AAC5B,oBAAA,QAAQ,EAAE,gBAAgB;AAC1B,oBAAA,QAAQ,EAAE;;;;;;;;;;;;;;;;AAgBT,EAAA,CAAA;AACD,oBAAA,IAAI,EAAE,EAAE,0BAA0B,EAAE,MAAM,EAAE;AAC5C,oBAAA,mBAAmB,EAAE,KAAK;oBAC1B,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;oBACrC,OAAO,EAAE,CAAC,kBAAkB;AAC7B,iBAAA;8BAKU,KAAK,EAAA,CAAA;sBAAb;gBACsC,MAAM,EAAA,CAAA;sBAA5C,KAAK;uBAAC,EAAE,SAAS,EAAE,eAAe,EAAE;gBACE,OAAO,EAAA,CAAA;sBAA7C,KAAK;uBAAC,EAAE,SAAS,EAAE,eAAe,EAAE;gBACE,WAAW,EAAA,CAAA;sBAAjD,KAAK;uBAAC,EAAE,SAAS,EAAE,eAAe,EAAE;;;ACvCvC,MAAM,UAAU,GAAG,CAAC,uBAAuB,CAAC;MAM/B,oBAAoB,CAAA;uGAApB,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA;wGAApB,oBAAoB,EAAA,OAAA,EAAA,CAHrB,YAAY,EAAE,iBAAiB,EAAE,eAAe,EAHxC,uBAAuB,CAAA,EAAA,OAAA,EAAA,CAAvB,uBAAuB,CAAA,EAAA,CAAA;AAM9B,IAAA,OAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,EAHrB,OAAA,EAAA,CAAA,YAAY,EAAE,iBAAiB,EAAE,eAAe,CAAA,EAAA,CAAA;;2FAG/C,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAJhC,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;oBACR,OAAO,EAAE,CAAC,YAAY,EAAE,iBAAiB,EAAE,eAAe,EAAE,GAAG,UAAU,CAAC;AAC1E,oBAAA,OAAO,EAAE;AACV,iBAAA;;;ACdD;;AAEG;;;;"}