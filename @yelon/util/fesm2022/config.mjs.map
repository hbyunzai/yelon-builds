{"version":3,"file":"config.mjs","sources":["../../../../packages/util/config/abc/sv.type.ts","../../../../packages/util/config/config.types.ts","../../../../packages/util/config/config.service.ts","../../../../packages/util/config/config.ts"],"sourcesContent":["export class YunzaiSVConfig {\n  /** 大小，默认：`large` */\n  size?: 'small' | 'large';\n  /** 间距，默认：`32` */\n  gutter?: number;\n  /** 布局，默认：`horizontal` */\n  layout?: 'horizontal' | 'vertical';\n  /** 列数，默认：`3` */\n  col?: number;\n  /** 是否显示默认值，当内容为空值时显示 `-`，默认：`true` */\n  default?: boolean;\n  /** `label` 固定宽度，若 `null` 或 `undefined` 表示非固定，默认：`null` */\n  labelWidth?: number;\n}\n","import { EnvironmentProviders, InjectionToken, makeEnvironmentProviders } from '@angular/core';\n\nimport {\n  YunzaiCellConfig,\n  YunzaiDateRangePickerConfig,\n  YunzaiErrorCollectConfig,\n  YunzaiExceptionType,\n  YunzaiImageConfig,\n  YunzaiLoadingConfig,\n  YunzaiLodopConfig,\n  YunzaiMediaConfig,\n  YunzaiOnboardingConfig,\n  YunzaiPageHeaderConfig,\n  YunzaiPdfConfig,\n  YunzaiQRConfig,\n  YunzaiSEConfig,\n  YunzaiSGConfig,\n  YunzaiSTConfig,\n  YunzaiSVConfig,\n  YunzaiXlsxConfig,\n  YunzaiZipConfig\n} from './abc/index';\nimport { YunzaiACLConfig } from './acl/acl.type';\nimport { YunzaiAuthConfig } from './auth/auth.type';\nimport { YunzaiBusinessConfig } from './bis/bis.type';\nimport { YunzaiCacheConfig } from './cache/cache.type';\nimport { YunzaiChartConfig } from './chart/chart.type';\nimport { YunzaiMockConfig } from './mock/mock.type';\nimport { YunzaiSFConfig } from './sf/sf.type';\nimport { YunzaiSocketConfig } from './socket/socket.type';\nimport { YunzaiThemeHttpClientConfig, YunzaiThemeResponsiveConfig, YunzaiThemeI18nConfig } from './theme/index';\nimport { YunzaiThemePipeConfig } from './theme/pipe.type';\nimport { YunzaiUtilArrayConfig } from './util/array.type';\nimport { YunzaiUtilCurrencyConfig } from './util/currency.type';\n\nexport interface YunzaiConfig {\n  bis?: YunzaiBusinessConfig;\n  socket?: YunzaiSocketConfig;\n  dataRange?: YunzaiDateRangePickerConfig;\n  exception?: YunzaiExceptionType;\n  errorCollect?: YunzaiErrorCollectConfig;\n  image?: YunzaiImageConfig;\n  loading?: YunzaiLoadingConfig;\n  onboarding?: YunzaiOnboardingConfig;\n  lodop?: YunzaiLodopConfig;\n  pageHeader?: YunzaiPageHeaderConfig;\n  qr?: YunzaiQRConfig;\n  se?: YunzaiSEConfig;\n  sg?: YunzaiSGConfig;\n  sv?: YunzaiSVConfig;\n  st?: YunzaiSTConfig;\n  sf?: YunzaiSFConfig;\n  cell?: YunzaiCellConfig;\n  xlsx?: YunzaiXlsxConfig;\n  zip?: YunzaiZipConfig;\n  pdf?: YunzaiPdfConfig;\n  media?: YunzaiMediaConfig;\n  acl?: YunzaiACLConfig;\n  auth?: YunzaiAuthConfig;\n  cache?: YunzaiCacheConfig;\n  chart?: YunzaiChartConfig;\n  mock?: YunzaiMockConfig;\n  utilArray?: YunzaiUtilArrayConfig;\n  utilCurrency?: YunzaiUtilCurrencyConfig;\n  themeHttp?: YunzaiThemeHttpClientConfig;\n  themeResponsive?: YunzaiThemeResponsiveConfig;\n  themeI18n?: YunzaiThemeI18nConfig;\n  themePipe?: YunzaiThemePipeConfig;\n}\n\nexport type YunzaiConfigKey = keyof YunzaiConfig;\n\nexport const YUNZAI_CONFIG = new InjectionToken<YunzaiConfig>('yunzai-config', {\n  providedIn: 'root',\n  factory: YUNZAI_CONFIG_FACTORY\n});\n\nexport function YUNZAI_CONFIG_FACTORY(): YunzaiConfig {\n  return {};\n}\n\nexport function provideYunzaiConfig(config: YunzaiConfig): EnvironmentProviders {\n  return makeEnvironmentProviders([{ provide: YUNZAI_CONFIG, useValue: config }]);\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Inject, Injectable, Optional } from '@angular/core';\n\nimport { deepMergeKey } from '@yelon/util/other';\nimport type { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nimport { YunzaiConfig, YunzaiConfigKey, YUNZAI_CONFIG } from './config.types';\n\n@Injectable({ providedIn: 'root' })\nexport class YunzaiConfigService {\n  private config: YunzaiConfig;\n\n  constructor(@Optional() @Inject(YUNZAI_CONFIG) defaultConfig?: YunzaiConfig) {\n    this.config = { ...defaultConfig };\n  }\n\n  get<T extends YunzaiConfigKey>(componentName: T, key?: string): YunzaiConfig[T] {\n    const res = ((this.config[componentName] as { [key: string]: unknown }) || {}) as NzSafeAny;\n    return key ? { [key]: res[key] } : res;\n  }\n\n  merge<T extends YunzaiConfigKey>(componentName: T, ...defaultValues: Array<YunzaiConfig[T]>): YunzaiConfig[T] {\n    return deepMergeKey({}, true, ...defaultValues, this.get(componentName));\n  }\n\n  attach<T extends YunzaiConfigKey>(componentThis: unknown, componentName: T, defaultValues: YunzaiConfig[T]): void {\n    Object.assign(componentThis as any, this.merge(componentName, defaultValues));\n  }\n\n  attachKey<T extends YunzaiConfigKey>(componentThis: unknown, componentName: T, key: string): void {\n    Object.assign(componentThis as any, this.get(componentName, key));\n  }\n\n  set<T extends YunzaiConfigKey>(componentName: T, value: YunzaiConfig[T]): void {\n    this.config[componentName] = { ...this.config[componentName], ...value };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;MAAa,cAAc,CAAA;AAa1B;;MC2DY,aAAa,GAAG,IAAI,cAAc,CAAe,eAAe,EAAE;AAC7E,IAAA,UAAU,EAAE,MAAM;AAClB,IAAA,OAAO,EAAE,qBAAqB;AAC/B,CAAA,EAAE;SAEa,qBAAqB,GAAA;AACnC,IAAA,OAAO,EAAE,CAAC;AACZ,CAAC;AAEK,SAAU,mBAAmB,CAAC,MAAoB,EAAA;AACtD,IAAA,OAAO,wBAAwB,CAAC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;AAClF;;ACnFA;MASa,mBAAmB,CAAA;AAG9B,IAAA,WAAA,CAA+C,aAA4B,EAAA;AACzE,QAAA,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,aAAa,EAAE,CAAC;KACpC;IAED,GAAG,CAA4B,aAAgB,EAAE,GAAY,EAAA;AAC3D,QAAA,MAAM,GAAG,IAAK,IAAI,CAAC,MAAM,CAAC,aAAa,CAAgC,IAAI,EAAE,CAAc,CAAC;AAC5F,QAAA,OAAO,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC;KACxC;AAED,IAAA,KAAK,CAA4B,aAAgB,EAAE,GAAG,aAAqC,EAAA;AACzF,QAAA,OAAO,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,GAAG,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;KAC1E;AAED,IAAA,MAAM,CAA4B,aAAsB,EAAE,aAAgB,EAAE,aAA8B,EAAA;AACxG,QAAA,MAAM,CAAC,MAAM,CAAC,aAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC,CAAC;KAC/E;AAED,IAAA,SAAS,CAA4B,aAAsB,EAAE,aAAgB,EAAE,GAAW,EAAA;AACxF,QAAA,MAAM,CAAC,MAAM,CAAC,aAAoB,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,CAAC;KACnE;IAED,GAAG,CAA4B,aAAgB,EAAE,KAAsB,EAAA;AACrE,QAAA,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,GAAG,KAAK,EAAE,CAAC;KAC1E;AA1BU,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,kBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,mBAAmB,kBAGE,aAAa,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA,EAAA;AAHlC,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,mBAAmB,cADN,MAAM,EAAA,CAAA,CAAA,EAAA;;2FACnB,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAD/B,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAA;;0BAInB,QAAQ;;0BAAI,MAAM;2BAAC,aAAa,CAAA;;;ACZ/C;;AAEG;;;;"}